# TsShoppy

## ë°°í¬ ì£¼ì†Œ

<a>https://tsshoppy.vercel.app/</a>

## í”„ë¡œì íŠ¸ ì†Œê°œ

TypeScriptì™€ Reactë¥¼ ì´ìš©í•œ ì˜ë¥˜ ì‡¼í•‘ëª° ì›¹ì•±ì…ë‹ˆë‹¤.
JavaScriptë¡œë§Œ ì‘ì—…ì„ í•˜ê³  ìˆì—ˆëŠ”ë° ê¸°ì—…ì—ì„œ ìš”êµ¬í•˜ëŠ” ìŠ¤í™ ì¤‘ì— TypeScriptê°€ ë¹ ì§€ì§€ ì•Šê³  ë“¤ì–´ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
TypeScriptë¥¼ ì‚¬ìš©í•˜ë©´ ë²„ê·¸ê°€ 15% ì¤„ì¼ ìˆ˜ ìˆë‹¤ëŠ” ì—°êµ¬ë°œí‘œê°€ í¥ë¯¸ë¡œì› ê³  VSCodeì™€ ì˜ í˜¸í™˜ë˜ì–´ ì‰½ê²Œ ì½”ë”©ì„ í•  ìˆ˜ ìˆë‹¤ê³  í•˜ì—¬ TypeScriptë¥¼ ì‚¬ìš©í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.

## ì‹œì‘ ê°€ì´ë“œ

### ìš”êµ¬ì‚¬í•­

ë‚´ í™˜ê²½

-   Node.js 18.12.0
-   yarn 1.22.19
-   npm 8.19.2

ì„¤ì¹˜

```bash
$ git clone https://github.com/tmdgus95/tsshoppy.git
```

```
$ npm install or yarn install
$ npm start or yarn start
```

## Stack ğŸ§¹

### Environment

![Visual Studio Code](https://img.shields.io/badge/Visual%20Studio%20Code-007ACC?style=for-the-badge&logo=Visual%20Studio%20Code&logoColor=white)
![Git](https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white)
![Github](https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white)

### Development

![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=Typescript&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![Redux](https://img.shields.io/badge/Redux-764ABC?style=for-the-badge&logo=Redux&logoColor=61DAFB)
![ReactQuery](https://img.shields.io/badge/ReactQuery-FF4154?style=for-the-badge&logo=ReactQuery&logoColor=61DAFB)

## í™”ë©´ êµ¬ì„± ğŸ–¥ï¸

|                             ë©”ì¸ í˜ì´ì§€                              |                                êµ¬ê¸€ ë¡œê·¸ì¸                                |
| :------------------------------------------------------------------: | :-----------------------------------------------------------------------: |
|     <img width="329" src="/public/images/README/ë©”ì¸í™”ë©´.png"/>      |       <img width="329" src="/public/images/README/ì†Œì…œë¡œê·¸ì¸.png"/>       |
|                           ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€                            |                            ì œí’ˆ ë””í…Œì¼ í˜ì´ì§€                             |
| <img width="329" src="/public/images/README/ì¥ë°”êµ¬ë‹ˆ%20í˜ì´ì§€.png"/> | <img width="329" src="/public/images/README/ì œí’ˆ%20ë””í…Œì¼%20í˜ì´ì§€.png"/> |

## ì£¼ìš” ê¸°ëŠ¥ ğŸ“¦

### â­ï¸ ì–´ë“œë¯¼ ê³„ì • ê¸°ëŠ¥

-   ì–´ë“œë¯¼ ê³„ì •ì„ êµ¬ë¶„ ê°€ëŠ¥
-   ì–´ë“œë¯¼ ê³„ì •ì€ íŒë§¤ ì˜ë¥˜ ì¶”ê°€ ê°€ëŠ¥

### â­ï¸ ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥

-   ì‚¬ê³  ì‹¶ì€ ì˜ë¥˜ë¥¼ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ ê°€ëŠ¥
-   ì¥ë°”êµ¬ë‹ˆì—ì„œ ë¬¼í’ˆ ìˆ˜ëŸ‰ ë³€ê²½, ì‚­ì œ ê°€ëŠ¥

## í”„ë¡œì íŠ¸ í›„ê¸°

### â™¨ï¸ë¡œê·¸ì¸ ë¶€í„° ë¬¸ì œ

-   ë¡œê·¸ì¸ì„ í•˜ë©´ ì„œë²„ì—ì„œ ì‘ë‹µìœ¼ë¡œ ë§ì€ ë°ì´í„°ë¥¼ ë„˜ê²¨ì£¼ì§€ë§Œ ë‚´ê°€ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ë°ì´í„°ê°€ ëª‡ ê°œ ì—†ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ë°ì´í„°ì— íƒ€ì…ì„ ì§€ì •í•´ ì¤˜ì•¼ í•œë‹¤ê³  í•´ì„œ ì²˜ìŒì—ëŠ” ë§‰ë§‰í–ˆì§€ë§Œ ì¼ë‹¨ ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ í•„ìš”í•œ ë°ì´í„°ì—ë§Œ íƒ€ì…ì„ ì§€ì •í•´ë‘  ìœ ì € ê´€ë ¨í•´ì„œëŠ” anyë¥¼ ì“°ê²Œ ë¨

```
export function onUserStateChange(callback: any) {
    onAuthStateChanged(auth, async (user) => {
        const updatedUser = user ? await adminUser(user) : null;
        callback(updatedUser);
    });
}

async function adminUser(user: any) {
    return get(ref(database, 'admins')).then((snapshot) => {
        if (snapshot.exists()) {
            const admins = snapshot.val();
            const isAdmin = admins.includes(user.uid);
            return { ...user, isAdmin };
        }
        return user;
    });
}
```

-   JavaScriptë‘ ì‚¬ì†Œí•œ ë¶€ë¶„ì—ì„œ ì°¨ì´ê°€ ì¢€ ìˆì–´ì„œ ì²˜ìŒì—ëŠ” ë§ì´ í—¤ë§¤ì—ˆë‹¤. ë¦¬í„´ ê°’ìœ¼ë¡œ ê·¸ëƒ¥ childrenë§Œ ì¨ë†“ì„ ê²½ìš° ì—ëŸ¬ë¥¼ ì£¼ëŠ” ë°”ëŒì— JavaScriptì—ì„œëŠ” ë¬¸ì œê°€ ì—†ì—ˆëŠ”ë° ìê¾¸ ë¬¸ì œë¥¼ ì£¼ë‹ˆ ë” í˜¼ë€ìŠ¤ëŸ¬ì› ë‹¤.

```
export default function ProtectedRoute({ children, requireAdmin }: Props) {
    const user = useSelector((state: RootState) => state.user);
    if (!user.displayName || (requireAdmin && !user.isAdmin)) {
        return <Navigate to='/' replace />;
    }

    return <>{children}</>;
}
TypeScript
```

```
export default function ProtectedRoute({ children, requireAdmin }) {
    const { user } = useAuthContext();
    if (!user || (requireAdmin && !user.isAdmin)) {
        return <Navigate to='/' replace />;
    }
    return children;
}
JavaScript
```

-   TypeScriptëŠ” ì—„ê²©í•˜ë‹¤. optionì´ì•¼ íƒ€ì… ì§€ì •í•´ ì£¼ì§€ ì•Šìœ¼ë©´ ê²½ê³ ë¥¼ ì¤„ ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆì§€ë§Œ 2ë²ˆì§¸ ì¸ìì¸ indexëŠ” ë¬´ì¡°ê±´ ìˆ«ìì—¬ì„œ íƒ€ì… ì¶”ë¡ ì„ í•´ì¤„ ê±°ë¼ê³  ìƒê°í–ˆì§€ë§Œ indexì—ë„ íƒ€ì…ì„ ì§€ì •í•´ ì¤˜ì•¼ í–ˆë‹¤
    ```
    {options &&
                          options.map((option: string, i: number) => (
                              <option key={i}>{option}</option>
                          ))}
    ```
-   TypeScriptë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ JavaScriptì—ëŒ€í•´ ì˜ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤. Axiosê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ê³  async await ê°™ì€ í¸ë¦¬í•œ ê¸°ëŠ¥ì´ ìˆë‹¤ë³´ë‹ˆ Promiseì— ëŒ€í•´ ì†Œí˜íˆ ìƒê°í•˜ê³  ìˆì—ˆëŠ”ë° TypeScriptë¥¼ ì´ìš©í•´ì„œ ì½”ë”©ì„ í•˜ë ¤ë©´ ë¦¬í„´íƒ€ì…ì— ëŒ€í•´ì„œë„ ì˜ ìƒê°í•´ì•¼ê¸° ë•Œë¬¸ì´ë‹¤.

```
export async function getCart(userId: string): Promise<CartProduct[]> {
    return get(ref(database, `carts/${userId}`)).then((snapshot) => {
        const items = snapshot.val() || {};
        return Object.values(items);
    });
}

export async function getProducts(): Promise<Product[]> {
    return get(ref(database, 'products')).then((snapshot) => {
        if (snapshot.exists()) {
            return Object.values(snapshot.val());
        }
        return [];
    });
}
```
